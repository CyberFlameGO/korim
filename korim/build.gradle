dependencies {
    if (hasAndroid) {
        androidMainApi "org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutinesVersion"
        androidTestImplementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutinesVersion"
    }
    commonMainApi "com.soywiz:klock:$klockVersion"
    commonMainApi "com.soywiz:kds:$kdsVersion"
    commonMainApi "com.soywiz:kmem:$kmemVersion"
    commonMainApi "com.soywiz:kmem:$kmemVersion"
    commonMainApi("com.soywiz:korio:$korioVersion") {
        transitive = true
    }
    commonMainApi "com.soywiz:korma:$kormaVersion"

    commonTestApi "com.soywiz:klock:$klockVersion"
    commonTestApi "com.soywiz:kds:$kdsVersion"
    commonTestApi "com.soywiz:kmem:$kmemVersion"
    commonTestApi "com.soywiz:kmem:$kmemVersion"
    commonTestApi "com.soywiz:korio:$korioVersion"
    commonTestApi "com.soywiz:korma:$kormaVersion"
}

//kotlin.targets.linuxX64.compilations.main.cinterops {
//    stb_image {}
//}

//for (target in ["macosX64", "linuxX64", "mingwX64", "iosX64", "iosArm32", "iosArm64"]) {
for (target in ["linuxX64", "iosX64", "iosArm32", "iosArm64"]) {
    kotlin.targets[target].compilations.main {
        cinterops {
            stb_image {}
        }
    }
}
